% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/chi_generate_tro_shell.R
\name{chi_generate_tro_shell}
\alias{chi_generate_tro_shell}
\title{CHI generate TRO shell}
\usage{
chi_generate_tro_shell(
  ph.analysis_set,
  end.year,
  year.span = NULL,
  trend.span = NULL,
  trend.periods = NULL
)
}
\arguments{
\item{ph.analysis_set}{name of data.table to parse}

\item{end.year}{the latest year to be used for aggregate estimates}

\item{year.span}{the number of years to be included in a single non-trend period}

\item{trend.span}{the number of years to be included in a single trend period}

\item{trend.periods}{the number of periods to be included in a trend}
}
\value{
A data table containing calculation instructions with columns:
\itemize{
  \item{indicator_key} Unique identifier for each indicator
  \item{tab} Analysis type (_kingcounty, demgroups, trends, etc.)
  \item{year} Time period for analysis
  \item{Additional columns} As specified in analysis_set input
}
}
\description{
This function takes an analysis set file and indicator of which set should be
processed. It returns a skeleton of CHI Tableau Ready Output, which is used
as an instruction set for \code{\link{chi_calc}}.
}
\details{
It takes in a data.table containing a compact list of \code{indicator_keys},
byvariables, and analysis types, and returns a shell table of the rows and columns expected
in a CHI Tableau ready output. For details on TRO format, review here:
\href{https://kc1.sharepoint.com/teams/DPH-CommunityHealthIndicators/CHIVizes/CHI-Standards-TableauReady\%20Output.xlsx}{
SharePoint > Community Health Indicators > CHI_vizes > CHI-Standards-TableauReady Output.xlsx}

The expected format of \code{ph.analysis_set} is:
  \itemize{
    \item \code{set}: Integer identifying groups of indicators with identical analysis patterns
    \item \code{cat1}: Category name as expected in CHI TRO
    \item \code{cat1_varname}: Category variable name as expected in CHI TRO
    \item \code{_kingcounty}: \code{'x'} if analysis includes King County tab
    \item \code{_wastate}: \code{'x'} if analysis includes Washington State tab
    \item \code{demgroups}: \code{'x'} if analysis includes demographic groups
    \item \code{crosstabs}: \code{'x'} if analysis includes crosstabulations
    \item \code{trends}: \code{'x'} if analysis includes trends analysis
    \item \code{set_indicator_keys}: Comma-separated list of indicator keys sharing the pattern
  }
}
\seealso{
\code{\link{chi_generate_analysis_set}} for creating analysis sets

\code{\link{chi_calc}} for performing calculations using these instructions
}
\keyword{CHI,}
\keyword{Production}
\keyword{Tableau,}
